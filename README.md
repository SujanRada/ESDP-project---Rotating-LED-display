# Rotating Color Display

## Abstract: 
 The Rotating Color Display is a compact disc-sized device that rotates quietly using a servo motor. It features multiple LEDs that displays images as well as time and weather data sourced from the internet. The device is wirelessly powered and controlled via a user-friendly web interface using an ESP32.


 ## 1. Description of the device
 The Rotating Color Display device comprises two primary units: a power supply unit and a display board. The display board is rotated by a servo motor.
 Energy is wirelessly transmitted from the power supply unit to the display board, eliminating the need for wired connections. The lower PCB is the power supply with wireless power transmission, the upper PCB is the display board. The LED operations are controlled by a RP2040 microcontroller, while an ESP32 microcontroller generates the display content.
 The ESP32 maintains a Wi-Fi connection to the internet. This internet connection allows the device to retrieve the time from a time server, ensuring time accuracy. It also allows for the acquisition of weather data. The interface allows users to manage login credentials, upload image files to the display, and control image and configuration files through a file manager.

## 2. Operating modes
Once the wifi connection has been established, the unit will display its IP address on the home page of the device. Enter this address in your web browser. This will load the web user interface and will allow you to configure your local wifi. There are several operating modes that display time and weather information.

## 3. Mechanical design
The device consists of two assemblies: power supply and display. The power supply board is also the base plate. Furthermore, the base plate carries a potentiometer to control the motor speed as well as an on/off switch for the motor. An important requirement for the display board is that the center of mass of the unit is exactly in the middle, on the axis of rotation of the motor. This is the only way to ensure smooth and vibration-free running of the display. Main components are the two LED rows, five serial shift register chips, and two microcontrollers (Arduino nano and ESP-01s). On the backside of the board the secondary coil of the wireless power supply is attached. On the backside of the board the secondary coil of the wireless power supply is attached. The LED row consists of 56 discrete, rectangular LEDs. The components each have a width of 1.6 mm and can be lined up with little spacing. The center of the LEDs is in a 2 mm grid. However, the row of LEDs is not arranged symmetrically to the center of the disk, but shifted by 0.5 mm. If the display panel is rotated by 180 degrees, this decentration causes the LEDs to be shifted by exactly 1 mm from the original grid. This results in rotational interlacing: the radial resolution is increased from 2 to 1 mm. At the same time, the perceived frame rate also increases by a factor of 2. 
The LED row is shifted radially by half a LED width. The two halfs of the row generate an interlacing effect, which doubles both the radial resolution and the image frame rate.

## 4. Electronics architecture
The power supply assembly contains a Royer converter for wireless power transfer to the display assembly and an adjustment of the motor speed. The 56 color LEDs of the display assembly are controlled by 7 shift registers (24 bits each), which in turn are supplied with clock and data by a RP2040 microcontroller via an SPI interface. The displayed content is generated by an ESP32-S3 microcontroller, which is connected to the internet via Wifi. Furthermore, image data can be loaded from a micro SD card. The ESP32 transmits its data to the RP2040 via a SPI interface.

## 5. Power supply board
The core of the power supply is a Royer converter for wireless power transfer. The Royer circuit uses very few components. However, the coil is quite complex. It is a bifilar coil, where the two halves are interleaved. In addition, the coupling coil must be connected with the correct polarity, otherwise the two transistors will be destroyed. In the early stages of development, the coil was wound with copper wire. The circuit was found to have surprisingly high and perfectly adequate transmission efficiency, although the quality factor of the printed coils is inevitably compromised. The Royer converter with the printed coil assembly is absolutely safe to rebuild. The Royer converter can be supplied with 12 to 24 V. Depending on the voltage, the transferred power can be increased. This allows the operation of the display at high brightness. However, even with 12 V supply, the available power is sufficient for normal operation.
As the supply voltage can be vary from 12 to 24 V, a step down converter is used to generate a variable voltage between 1.7V and 6.0V, which can be adjusted via a potentiometer. The voltage range corresponds to the specified operating range of the CD motor. The supply of the motor can be interrupted with a switch, for example to allow programming of the microcontrollers.

## 6. Display Board
The 56 LEDs of the display board are driven by 7 cascaded 24-bit shift registers. The registers load the serial data stream from one of the SPI interfaces of the RP2040. The microcontroller generates separate "LED enable" signal for the R, G, B LEDs, respectively. This allows for white balancing (not implemented yet). The STP24DP05BTR LED current sink controller sets the LED current to 20mA each. The maximum current per register would therefore be 480mA, if all LEDs were on, simultaneously and continuously. Theoretically, the current of the 56 LEDs could add up to 3.3A, which, at 5V, would correspond to 16.5 W. This is significantly beyond the capability of the wireless power supply. However, the current can be controlled by the RP2040 microcontroller by setting the duty cycle appropriately. 












